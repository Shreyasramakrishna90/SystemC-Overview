CS 5891: Reliable Distributed Computing

Instructor: Abhishek Dubey (<abhishek.dubey@vanderbilt.edu>)

Assignment 2

**Understanding different messaging patterns using ZMQ library**

Due: 1 week

In this assignment we will use some simple messaging patterns available
in ZMQ to publish sensor data like temperature, humidity, and light
intensity onto a database. In this scenario the sensors are called as
producers (publisher) and the database itself which runs on a server is
called as consumer (subscriber). We will have multiple publishers trying
to publish data to a single subscriber. Each publisher will send out its
data along with a topic, which can be a keyword like, the location of
the sensor, or the data being sent by the sensor. Topics play an
important role in scenarios of multiple publishers/ subscribers.

As a part of the assignment we use some datasets collected from
different sensors of a home. The datasets typically have timestamps and
the sensed value of temperature, humidity or light intensity. These
datasets can be imagined to be sensors publishing data at different
sampling rates.

The data published from the sensors can be written into a database which
is hosted by a server either locally or remotely on the cloud. We will
here use an open-source time series database called InfluxDB. InfluxDB
also supports a graphical tool called grafana for real time plotting of
the data entering it.

One other interesting idea would be to use Amazon Web services (AWS) to
host the database. The data generated by the sensors can be moved to the
database hosted in the cloud. This would make it easier for the data to
be processed in the later assignments.

**High level architecture**

![ass12.png](){width="4.547349081364829in"
height="1.825482283464567in"}

The figure above shows the pub/ sub architecture we intend to design in
this assignment. The broker in this case acts to mediate the data
received from multiple publishers and send it to the single subscriber
we have.

**Tasks**

(All the 5 main questions are program oriented, and the sub points are
observations from some of the main tasks which have to be answered in
words.)

1)  Using the handed datasets design three publishers, one each for
    publishing temperature, humidity and light. The data being captured
    must have the timestamps, sensed value and topics (temp/ humidity/
    light).

    a.  Publish the data using same sampling rate.

    b.  Publish the data using different sampling rate.

2)  Design a subscriber to receive the data being sent by the three
    publishers. You need to receive the data from all the three using
    the same port. (Do not use three different ports)

    a.  What happens to the data which is sent at the same sampling
        rate? Do you receive everything or is any data lost?

3)  Design a broker which receives data from the three publishers and
    sends it to the subscriber.

    a.  What is the advantage of having a broker?

4)  Now host InfluxDB on the subscriber end and write the data being
    received into the database. (Use localhost for hosting your db)

    a.  Plot the data being collected in InfluxDB using grafana
        (optional)

5)  Now Move the database onto the aws cloud. Send the data published by
    the three publishers onto the cloud and store it onto InfluxDB.

**Submissions**

-   The scripts for the entire assignment.

-   Screenshots of data being stored in InfluxDB, and the grafana plots.

-   Answers to all the sub points in word format.

-   A readme section with a brief architecture, a few words about the
    assignment, and testing instructions.

**Grading:** Each of the main tasks will carry 20 points. The sub points
will be graded within the allotted 20 points.

**Useful Reference**

-   [**http://zguide.zeromq.org/page:all**](http://zguide.zeromq.org/page:all)

-   [**https://computingforgeeks.com/install-influxdb-on-ubuntu-18-04-and-debian-9/**](https://computingforgeeks.com/install-influxdb-on-ubuntu-18-04-and-debian-9/)

-   [**https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-grafana-on-ubuntu-16-04**](https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-grafana-on-ubuntu-16-04)

-   [**https://aws.amazon.com/ec2/getting-started/**](https://aws.amazon.com/ec2/getting-started/)


